
2002-09-04 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* util_ui.c: UtilUIParse{,Int,Nick,Remainder}: new, quote
	  arguments with " or \, detects intelligent nick names intelligently.
	* cmd_user.c: use UtilUIParse*.
	* src/Makefile.am: fix bogus snprintf.[ch] links.
	* TODO, Changelog: update.

2002-09-04 Peter Backes <rtc@gmx.de>
	* Changed some remaining code to use the packet handling library
	  instead of structure aliasing.

2002-09-03 Tobias Bengtsson <tobbe@tobbe.nu>
	* remove code duplication
	* improve wide display

2002-09-01 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* add web page to CVS
	* rewrote table based layout to a CSS based layout
	* do lots of update work for several languages

2002-08-27 Alberto Bertogli <albertogli@telpin.com.ar>
	* update Spanish (es) translation and man pages
	* add Spanish (es) web page

2002-08-27 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Fix last-minute bugs (contact download crash)
	* Fix get status from correct session
	* Fix history symlinks
	* Re-release as 0.4.9.3.1
	* Transcode incoming contact names
	* de, en, ru i18n update
	* more status flags for direct connections displayed

2002-08-24 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* unify packet.c code: read strings now always need free()
	* forget about mc.ukeer.de or micq.ukeeer.de and use www.micq.org
	* many more assertions, better debug display, debug sessions
	* remove gone session pointers (should fix wrong-send tcp mesgs)
	* make file transfer official
	* Spanish micqrc.5
	* Typos, typos, typos fixed.
	* add CVS id to *.i18n files, change script to remove old strings
	* rework prompt stuff: eliminate dead code, more sensibel names
	* note in prompt number and nicks of messages received during auto-away
	* allow selection of current connection, remove connections
	* make colors customizable
	* fix contact list download, improve contact command
	* adding Trillian bugaround: set connectivity properly (see micqrc.5)
	* 0.4.9.3

2002-08-17 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* auto-extend TLV array
	* add French man pages
	* convert French man pages to an-old macros
	* fix auto-reply string getting segfault (!)
	* add .cvsignore files
	* yet another status2str
	* improve file transfer (WIP)
	* implement v8 auth stuff
	* use v8 auth stuff, implement auth request/deny
	* new sorted status display
	* correctly name Chinese translation: cn.i18n -> zh_CN.i18n
	* add Spanish translation
	* add sprintf() replacement (for IRIX 6.x)
	* restrict CONT_ALIAS handlich to contact.c, ignore dupe aliases
	* add ~-expansion to logplace

2002-08-10 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* convert man pages to an-old macros (for conversion to HTML)
	* move packet read position pointer even for broken data
	* fix segfault for overlong url messages

2002-08-08 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* replace struct Event by Event, dito for struct Queue
	* remove queue argument to message queue functions
	* add symbolic names to queue types while debugging
	* new: QueueRetry() to re-run oldest event for uin of given type
	  (e.g. allows instant reaction to established direct connection)
	* allow requeing with same time (necessary for file transfer)
	* fix HHHUUUGGGEEEE memory leaks
	* actually restrict select timeout to time difference to next event
	* WIP: first file transfer happened today

2002-08-01 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* More verbosity flags.
	* add auto_ffc (semi-auto) response
	* implement command to request auto responses
	* add check to include WorkInProgress
	* prepare for 0.4.9.pl2
	* add missing CVS version identifiers
	* update man pages for new commands
	* show timestamps as hex for client detection when verbose

2002-07-22 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* detect sizeof() of types (for 64bit systems)
	* document tab completion option
	* don't auto-away on listening connections
	* don't segfault on "conn login"
	* don't segfault on missing nick in contact section
	* fix deletion of UINs: fix test for whether UIN exists
	  and don't delete anything else
	* implement server side contact list download
	* free file descriptor for micqrc after read
	* free sent packets

2002-06-26 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* fix SOCKS5 authorization
	* document resend command, let it take arbitrarely many arguments
	* change behaviour of autoaway command
	* hopefully fix reconnect loops this time
	* rework verbose: setting verbose won't give any debug messages

2002-06<24 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* fix auto-away
	* be more verbose if saving fails
	* #define DATADIR instead of PREFIX "/share/micq/"
	* set CONNECT_FAIL more often to avoid reconnect loops

2002-06-12 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* compile fixes
	* recognize YSM
	* actually install man pages

2002-06-10 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* es translation by Alberto  Bertogli (albertogli@telpin.com.ar)
	* lower requirement for gethostbyname() for BeOS

2002-06-04 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Fix Russian/Japanese.
	* Close log file desciptor (thanks, Alberto  Bertogli)
	* Automatic responses.
	* Automatic reconnects.
	* Delay online status changes till own login is finished.
	* Display birthday flag.
	* tcp fixes, interface cleanup
	* move uin logs again
	* status codes <-> status flags cleanup
	* sync and update man page and run-time help texts
	* de_DE
	* fr_FR translation by Guillaume Coqueblin <esquimo_2ooo@caramail.com>
	* use v8 for p2p for wizard
	* 0.4.9

2002-05-25 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* tcp.c: s/TYPE_PEER/TYPE_LISTEN; get rid of assert()s; mem leaks;
	  timeout fixes; more #define cleanup; more gratious on changed
	  connection status data and more quiet; ACK types;
	  short: just fixes.
	* ru.i18n update by "Pest".

2002-05-15 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Debian merges.
	* change version information to be more like other ICQ clones.
	* debug: save all packets.
	* p2p rewrite: v8.
	* Tab completion (Peter Stuge).
	* Solaris compile fix.
	* Russian update ("Pest").
	* Peek command to check whether someone is really online.
	* Sending keep-alives.
	* Meta packet sending cleanup.
	* quiet mode: do not show status changes.
	* Ignoring users; now differentiate between ignore and invisible.
	* i18n fix of stuuuuuupid bug.
	* now recognizing: StrICQ.
	* Honoring hermit.

2002-05-10 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* SMS sending implemented
	* Password changing implemented
	* hopefully working Russian/Japanese conversion
	* namespace cleanup in packet.c (BAt -> AtB)
	* ANSI_TERM now does what ANSI_COLOR was before; ANSI_COLOR
	  is always on, use runtime option to switch off

2002-05-07 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Introduce a lot of missing #defines for the META handling.
	* Implement random chat group setting and requesting.

2002-05-06 Peter Backes <rtc@gmx.de>
	* Implement contact flags differently.

2002-05-06 Peter Backes <rtc@helen.PLASMA.Xg8.DE>
	* Add status (quite raw, hexadecimal) to online messages in the logfile.
	* Further cleanup of icq_response.c, reducing code size.
	* Completed personal info searching.
	* Prepared handler for random search.
	* mreadline speedup patch
	* fix: command line was partially overwritten when more than one
	  line was entered, but the cursur wasn't in the last line
	
	* do not display status change for temporary contacts (rk)

2002-05-03 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* add & use new funtions to write LLNTS, TLV and length markers.
	* recognize MirandaICQ version number
	* implement white page search; amend "search" syntax, so that
	  wpsearch becomes obsolete
	* i18n news: use 4 digit numbers; enable mechanism to reliably
	  track changed strings; remove strings where even the format
	  has changed!
	* implement general/other/about change.
	* fix "wide" command (Peter Backes)

2002-05-02 Peter Stuge <stuge@cdy.org>
	* SNAC(13,19) SNAC(13,1b): authorization requests and grants
	* remove / from Nicknames for logfile.

2002-05-01 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* more ui fixes: status change msg, "r" command
	* packet.c cleanup for...
	* search/metainfo patch (Peter Backes)
	* split Session->type into type and flags (Peter Backes)
	* avoid code duplication: remove User_Online, Status_Update,
	  User_Offline
	* fix tcp message types
	* allow UIN_DELIM characters in UIN (except for the last character)!

2002-04-30 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Some logging/output cleanup (Peter Backes)
	* Implemented SRV_ADDEDYOU handling (Peter Backes)
	* Small improvements to non-ANSI_COLOR part of mreadline (Peter Backes)
	* Implement registering a new UIN: SNAC(17,1) SNAC(17,4) SNAC(17,5).
	* New registration wizard.
	* A few interface fixes.
	* type-4 and (hopefully) type-2 messages.
	* SOCKS5 support.
	* Part 1 of info request (Peter Backes)

2002-04-27 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Fix insert-char-deletes-2-other-chars-bug (switched arguments)
	* Implement SNAC(9,5) SNAC(9,6) SNAC(9,7) SNAC(9,8) (visible/
	  invisible lists add/remove) and SNAC(3,5) (contact remove)
	* Send visible/invisible list if necessary on status change
	* Implement togvis/togign.
	* Add ContactRem() to remove contact list entry.
	* Add UIN temporary to contact list for sent/received messages.
	* Fix compiler warnings.
	* Fix packet statistics (somewhat).

2002-04-25 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Rewrite mreadline.c: use new M_pos() in util_ui.h to get cursor
	  position (prompt length) in new R_goto() to set cursor to given
	  position by first stepping back as many lines as needed
	* UtilUIUserOnline: give new status as arg, ignore if unchanged
	* Do logging of outgoing messages in icq_sendmsg only
	* Fix typo in TLV exchange; also free() incoming message text
	* use ESC [J instead of ESC [K (Peter Backes)
	* remove surplus brackets as requested by Peter Backes
	* get window size from stdin terminal, not stdout
	* no overlapping strcpy (Peter Backes)
	* implement request/receive/ack offline messages

2002-04-16 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* mention GPL-2 in COPYING
	* UtilUIUserOnline, UtilUIUserOffline - notify another user's status change
	* implement SRV_RECVMSG for type 1 messages following patch from
	  Peter Backes <rtc@helen.PLASMA.Xg8.DE>
	* don't crash on online/offline message for non-contacts
	* add missing output on server sent messages
	* some tcp fixes: unknown nicks were treated as UIN -1;
	  list listening "connection" as "listening", not "peer-to-peer";
	  fix crash after tcp off/close/open cycle
	* allow to direct connect even if user is offline
	* fix crash in ExecScript()
	* prompt redraw fixes

2002-04-05 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Fix remember password (thanks Pavel Roskin).
	* update debian/ to be more like in the real Debian package.
	* Fix Debian#113805 (US reported as US Virgin Islands)
	* Quickfix for scroll/prompt bug

2002-04-03 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Really check in i18n changes.
	* Fix off-by-one in packet.c.
	* Fix "tcp off <nick>".

2002-04-03 Pavel Roskin <proski@gnu.org>
	* Include <string.h> when needed.
	* Comment extra text after #endif
	* Fix missing newlines at the end of file.
	* Set -Wall for gcc only.
	* Use AM_CFLAGS is src/Makefile.am instead of overwriting CFLAGS.

2002-03-07 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Adopt tcp stuff to use connection that can be listed using conn.
	* With this, make tcp event-driven - no DOS by simply connecting,
	  sending "0xffff" as packet length and then waiting forever
	* Moved some common code to util_io.c.
	* Fix huge bugs regarding entering passwords.

2002-03-05 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* All files now have a Copyright mark; change files by me to GPL.
	* Rewrote TLV handling.
	* CmdUser* functions now find their connection * theirselves;
	  a function that doesn't support v8 will complain.
	* understand SNAC(1,15) SNAC(3,B) SNAC(3,C) - status, online, offline
	* send SNAC(1,1e) SNAC(3,4) SNAC(4,6) SNAC(13,5) - status change,
	  contact list, msg
	* implement client autodetection (micq,licq)
	* again a few more packet read/write functions: UIN
	* fix wrong order that let PrefUserDir() be NULL
	* get rid of more compatibility cruft
	* add debian packaging stuff

2002-03-04 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Fix packet position pointer size. Oooops!
	* Implement more packet reading/writing: big endian, v8-style
	  strings, TLVs. Have destructor for packets.
	* Handle keep alive through global msg queue.
	* New command "conn" to list and open connections.
	* Remove compatibility cruft for file_utils.c. Please use
	  0.4.8 to convert config files; you may need to create ~/.micq/.
	* Implement v8. Can log in, nothing more.

2002-03-02 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* fix ~/.micq/ creation

2002-02-15 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* update man pages.
	* Bump to version 0.4.8.

2002-02-10 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* fix verbose command line buglet
	* new: session.c for connection management. TCP still (ab)uses
	  the server (UDP) session^h^h^h^h^h^h^hconnection.
	* Better transition to .micq/micqrc (create .micq); change
	  rc file format to have arbitrarely many connections. The
	  idea is to have a v5 and a v8 connection at the same time till
	  the latter is usable.

2002-02-06 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* finish big rename by moving stuff from session.h to uiG;
	  realized that session is the wrong name...
	* reset reconnect_count on successfull login
	* fix typo in last release

2002-02-06 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* new: util_io.c for all IO related stuff (that what SOCK* did);
	  there's still stuff around that belongs there
	* removed: sendmsg.c
	* new: preferences.c that contains (or should contain) all
	  stuff that is saved in .micq/micqrc; big move of stuff. TODO.
	* thereby replacing all char[] by char *
	* more stuff in packet.c for reading; should be sufficient now
	* log TCP messages, too

2002-02-05 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* new: packet.c for functions creating a packet;
	  got rid of *_2_Chars() completely; Chars_2_* deprecated
	* new: cmd_pkt_cmd_v5.c implementing all server bound packets,
	  IE all CMD_* stuff; complete rewrite of sendmsg.c using packet.c
	* new: cmd_pkt_cmd_v5_util.c helpers for above
	* The "global" ssG is now passed around and only local.
	  Rationale: Have a different session for each transport
	  (v5, v7, TCPv6)
	* Bug fixes of TCP. Should work now (finally).
	* Made more parameters const.
	* Save Packet * in Queue instead of UBYTE *.

2001-12-18 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Change mselect.c to also do select()ing on exceptfds; use
	  M_Add_xsocket() to add. I'm not sure if we need it, but anyway.
	* Get rid of 99% R_{re,un}draw() - basically just have a pair
	  around the select() and where needed in mreadline.c.
	* Add debugging to msg_queue.c (verbose & 32; was & 16 outside
	  of msg_queue.c...)
	* Make TCP differences to micq.c less invading: add TCPAddSockets()
	  and TCPDispatch() to do the stuff. Make TCP socket# global.
	* Don't bark on interrupted select() (e.g. on SIGWINCH...)
	* Have a timeout for connects (10s for now). Reports IP correct
	  when failed. Correctly dequeues first TCP message now.
	* Fix creating wrong log directories.

2001-12-14 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Change mselect.c to also do select()ing on writefds; use
	  M_Add_wsocket() to add.
	* Let msg_queue.c sort the queue by exp_time; fix long-standing
	  memory corruption bug; add callback
	* Move all this contact list stuff to a new src/contact.c. All
	  funtions now named Contact*(), all source files changed
	  acordingly. Lots of stuff!
	* Rewrote huge parts of tcp.c to make it asynchronous (though
	  still DoS'able); get rid of send queue; clean up output;
	  add supplementary "tcp <open|close>" command
	* Ignore trailing newlines on incoming messages

2001-12-11 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Recognize and display licq's version numbers. Define a way
	  for micq's version numbers.
	* Display incoming tcp messages differently than server messages
	* Create cmd_pkt_server.c, handles incoming server packets. Move
	  stuff from server.c there, create jump table (though still
	  somewhat empty) holding all commands; replace Print_CMD() by
	  CmdPktSrvName() using this table.
	* Print tcp connections even if nonverbose, since it may freeze
	  till a network timeout occurs, which can be minutes.
	* Remove tcp socket when connect fails (cures segfault)
	* Fix segfault reported by Jeremy Hall <jhall@UU.NET>.

2001-12-06 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Moved tcp packet defs to icq_tcp.h.
	* Revamped Logging: now have LogLevel (>0 = on, &2 = omit on/off)
	  and LogPlace (and no local stored path); log to dir iff
	  trailing slash.
	* Fix i18n-extract not to loop forever when i18n lacks a ).
	* Do not regenerate *.i18n files with make lang, only en.i18n.
	* new: CmdUserSet "set" to set a few options (currently color and
	  funny); removed CmdUserColor. CmdUserRandomSet is now "setr".
	* new: GetUserBaseDir() yielding $HOME/.micq/ or equivalent.
	* rc file is now $HOME/.micq/micqrc instead of $HOME/.micqrc.
	* local i18n files are now in $HOME/.micq/i18n.
	* default log dir is now $HOME/.micq/history/.
	* Warn about deprectated rc file options and rc file on old place.
	* Rewrote i18n loading to load local i18n file, then add missing
	  string from global one. Actually, first try all "funny"
	  i18n files it funny is on; thus _fun.i18n has only the mod' strings.
	* i18n: locales starting with a + are added; starting with a /
	  are taken as absolut i18n file path names.
	* tcp.c is i18n'ed now. What about patches that apply cleanly?

2001-11-29 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Move sent message output to icq_sendmsg_srv and Send_TCP_Msg
	  to have different output for TCP messages.
	* Rewrote Login() a little, rename login packet fields now known,
	  set TCP flag.
	* Fix some overwrites of TCP port with the irrelevant UDP port.
	* Remove obsolete Connect_Remote_Old
	* Hex dump output tuning for UDP, fix newline glitch in Hex_Dump()
	* A HUGE LOT of code de-uglification
	* Make W_{un,re}draw() nesting. There's one redraw() too much
	  during login.
	* assign verbosity flag 16 for Queue debugging. 4 is show packets,
	  8 is also show packet contents, though 4 acts as 8 right now.
	* Don't segfault on UINs if TCP is on.
	* Add TCP packet dumps.
	* TCP should work now, though it's scrolling a lot.

2001-11-27 Jake Lau <Jake.Lau@compaq.com>
	* Fix non-TCP compilation. Add note when TCP enabled.

2001-11-20 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Include James' partial TCP implementation. Kinda experimental -
	  enable with TCP_COMM in micqconfig.h.
	* Fix Hex_Dump() output. Indent ingoing & outgoing packets; show
	  them if verbosity & 4.
	* Let -v accept a verbosity (without space after -v).

2001-11-01 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Fix M_strcpy in src/file_utils.c.
	* Use hstrerror() to print diagnostics if hostname lookup fails.
	* Correct one ntohs() to htons().
	* Everything suggested by Michel Oosterhof <micheloo@xs4all.nl>.
	* Complain if adding a user fails.
	* Break out protocol defs into include/icq_v[245].h.

2001-09-20 Kaolin Fire <cognosco@tentacle.net>
	* added "s" command -- display your current online status
	* added "resend" command -- resend your last message to a new UIN

2001-09-19 Kaolin Fire <cognosco@tentacle.net>
	* added command autoaway to set the auto away timeout.
	* fix alter.

2001-09-19 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* rewrote CmdUserStatusWide to also do ewide, as proposed
	  by Sander Smeenk <ssmeenk@cistron.nl>.
	* merge CmdStatus(E|W), now called CmdStatusShort, rename
	  CmdStatus as CmdStatsDetail.
	* fix alter.
	* prefer user defined command names.
	* update man page for r, sound, soundonline, soundoffline, autoaway.

2001-09-13 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* fix delete.
	* fix line length in wide for LANG != C.
	* fix about.

2001-09-07 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Fix "search" commands.
	* Add target UIN to "info" output.
	* check terminfo keycodes last when processing input.
	* fix receivescript security leak.
	* SoundOnline and SoundOffline were mixed up.
	* Implement SoundExec in util.c for script execution.
	* free memory used for script execution.

2001-08-12 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Fix saving alter'ed commands.

2001-08-12 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* small fixes (\a, last check-in only src/, _POSIX_VDISABLE)

2001-08-11 Georgi Kuzmanov <georgi@cs.man.ac.uk>
	* Big stuff-all-globals-into-a-struct-patch: one for preferences (uiG),
	  session (ssG) and socks5 (s5G).
	* This patch is big.
	* It deserves a few more lines.

2001-08-02 Sander Smeenk <ssmeenk@debian.org>
	* Added support for SoundOnline & SoundOffline events

2001-06-27 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Tiny fix for double prompts printed when replying.

2001-06-25 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Core dump fixes. Lots of 'em.
	* lang/*.i18n: regenerate, update en_fun, de.

2001-06-25 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Add bright red color COLERR.
	* New functions CmdUserLookup, CmdUserLookupName.
	* Use them to replace <whatever>_cmd strings.
	* Rewrote CmdUserAlter.
	* Started to change config file format; I don't want a new
	  config option for every possible command.
	* Since micqrc reading now calls CmdUserAlter, added a quiet
	  option to it.
	* Don't have problems with empty auto response strings.

2001-06-24 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* rename ui.(c|h) as cmd_user.(c|h) and rename all user functions
	  as CmdUser<something>, turn some commands into explicit functions,
	  create a jump table containing all those functions and their
	  command names, and iterate over the jump table instead of having a
	  huge if/else-chain; also do the same to commands changing the
	  prompt (so give status as argument and return new status; if != 0,
	  call last function again). Since "alter"ed command names are
	  in the jump table, they don't work yet. (=> alter is broken).

2001-06-20 Benjamin Michotte <binny@baby-linux.net>
	* lang/fr.i18n: update.

2001-06-17 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Get rid of UNIX and FUNNY_MSGS.
	* Move #include <time.h> to micq.h and protect <sys/time.h>.
	* Catch SIGTSTOP and SIKCONT to restore/prepare terminal.
	* Fix terminal restore on reconnect.

2001-06-15 James Morrison <ja2morrison@student.math.uwaterloo.ca>, rk
	* src/ui.c:
	  help patch from James Morrison, but \t and \n moved to format
	  string, and indenting used.
	* doc/micq.1, doc/micq.7, doc/micqrc.5:
	  micq.7 new, all modified in appearance.
	* lang/*.i18n:
	  Regenerated; white space changes of this and earlier check ins
	  mergend into some *.i18n files.

2001-06-12 James Morrison <ja2morrison@student.math.uwaterloo.ca>
	* src/ui.c: Add help for trans, wide, tabs
	* doc/micq.7, doc/micqrc.5: new.
	* README: add info to run ./prepare.

2001-06-12 Björn Hansson <hansson@netera.se>
	* lang/se.i18n: update.

2001-06-11 Keith Kelley <kkelley@locallink.net>
	* src/icq_response.c, include/micq.h:
	  New understood packets META_SRV_WP_FOUND, META_SRV_WP_LAST_USER.
	* src/sendmsg.c, include/sendmsg.h:
	  New function Search_WP() to search the yellow pages of ICQ.
	* src/ui.c, include/ui.h:
	  New function Wp_Search() for th UI part of the search, bound
	  to new command "wpsearch".

2001-05-31 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* src/ui.c:
	  Fixed togvis, togig based on patch by Sander Smeenk
	* lang/*: Regenerate.
	* lang/i18n-template: Fixed stupid harmless bug.
	* src/util.c: Clean up UIN2Contact().

2001-05-31 Michel Oosterhof <micheloo@xs4all.nl>
	* src/file_utils.c, include/file_utils.h:
	  Fix termination of wrong string with '\0', use HAVE_UNISTD_H
	  instead of UNIX, tighten Set_rcfile parameter to const.

2001-05-24 Dmitri Lukyanov <ldv@sdsl-64-7-10-170.dsl.iad.megapath.net>
	* lang/ru.i18n: Update language/country name translations again.

2001-05-23 Björn Hansson <hansson@netera.se>
	* lang/se.i18n: update.

2001-05-23 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	+ configure.in: prefer *-2.50 for autoconf, autoheader.
	* configure.in: complain if necessary functions are missing.
	* prepare: added to create generated files.
	* Makefile.am: add cvsclean target.
	* .cvsignore, */.cvsignore: added.

2001-05-23 Michel Oosterhof <micheloo@xs4all.nl>
	* add support for autoconf/automake
	* src/*.c: Add cvs tag

2001-05-20 Dmitri Lukyanov <ldv@sdsl-64-7-10-170.dsl.iad.megapath.net>
	* lang/ru.i18n: Update language/country name translations.

2001-05-12 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* lang/i18n-*: Mark changed translation strings.
	* lang/*.i18n: Regenerate, update de.i18n.
	* src/*: Fix lots of plenking and get as much formatting
	  out of i18n strings as possible.
	* src/icq_response.c: Replace Show_String* () functions by
	  new PktPrintString () function.
	* src/ui.c: Make sure user really wants to apply the user info
	  changes he entered.
	* include/buildmark.h: Upped pl.

2001-05-04 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* src/util_ui.c: Fix output glitch.

2001-05-02 Rico Gloeckner <mc@ukeer.de>
	* fixed tiny Input bug

2001-04-27 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Makefile, src/Makefile: Fixes.
	* include/micq.h, include/color.h:
	  Move color #defines to color.h, add #defines for COL*, which
	  yield a string to be interpreted by M_print as color, but can
	  be used in i18n files.
	* src/util_ui.c: Implement the above in M_print ().
	* src/*.c:
	  Use COL* macros instead of *COL, apply i18n () to everything
	  not running away fast enough.
	* lang/i18n-*: Adopt scripts to work with some macros in the
	  parameter to i18n ().
	* lang/en.i18n: Regenerate.
	* lang/de.i18n, lang/en_fun.i18n: Update.
	* lang/*.i18n: Regenerate with more to-translate strings.
	* src/i18n.c:
	  Enlarge array for more i18n strings. Add debug option to also
	  print string numbers.

2001-04-26 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* Makefile, src/Makefile, src/i18n.c, src/server.c,
	  include/config.h:
	  Adapt from Debian changes (by maintainer Sander Smeenk
	  <ssmeenk@debian.org>): Reconnect patch, and use $(DESTDIR) and
	  $(prefix).
	* src/icq_response.c:
	  Stop translating month's name twice. You'd see text #0.
	* lang/i18n-extract, lang/i18n-number, lang/i18n-template:
	  New scripts to number, extract and copy string to be translated.
	* src/file_util.c, src/ui.c:
	  Patch to modify sound command from Shane Wegner <shane@cm.nu>,
	  modified for i18n.
	* src/micq.c:
	  Timestamp for auto status change.
	* src/ui.c:
	  New "trans" function. Info about translation, loads new
	  translation, print given or all translation texts.
	  
2001-04-23 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* include/*.h, src/*.c:
	  Finish moving prototypes to individual files. Make functions
	  static that are supposed to.
	* src/icq_response.c, src/util_table.c, lang/*.i18n:
	  Move "Occupation" and "Interest" to a table, add i18n.
	  Fixed table size.
	* src/*conv*.c, src/icq_response.c, src/sendmsg.c:
	  Renamed to conv.c, conv_jp.c, conv_rus.c and replace
	  char_conv ("wc", ) resp.("cw", ) by seperate functions.
	* src/file_utils.c:
	  Overwrite rc file on save. Allow spaces before UINs in rc file.
	  Align on output.

2001-04-18 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* include/*.h, src/*.c:
	  Rename DWORD, WORD, BYTE, S_DWORD, S_WORD, S_BYTE, INT32, INT16,
	  INT8, U_INT32, U_INT16, U_INT8 to UDWORD, UWORD, UBYTE, SDWORD,
	  SWORD, SBYTE, SINT32, SINT16, SINT8, UINT32, UINT16, UINT8 since
	  BYTE et al. are signed on AmigaOS.
	* src/*.c:
	  Let indent operate on it, plus removing some glitches by it.
	* src/util_table.c:
	  New. Move language and country and all further tables here.
	* Makefile, lang/Makefile:
	  Install internationalization files. Ooops, Rico was faster.
	* src/buildmark.c, include/buildmark.h, src/Makefile:
	  Move version information here and make sure this module is
	  always rebuild before linking. Move CVS tag out of it.
	* src/Makefile, src/.indent.pro:
	  Move indent parameters to extra file.
	* src/.cvsignore:
	  Add.
	* src/file_utils.c:
	  Replace strncpy by snprintf, as only it ensures trailing \0.
	  Don't add existing UINs.
	* src/mreadline.c:
	  Fix tab handling. Fix ^k.

2001-04-18 Rico "mc" Gloeckner <mc@verdinet.de>
	* added Makefile for lang/
	* AUTHORS file complemented

2001-04-17 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* include/*.h, src/*.c:
	  Move prototypes to proper place. Remove lang.h.
	  Add necessary #includes.
	* include/mreadline.h, src/mreadline.c, src/ui.c, src/util.c,
	  src/util_ui.c:
	  Tighten char * to const where appropriate.
	* lang/*.h: Remove.
	* lang/??.i18n: New localization files.
	* include/tabs.h, src/tabs.c, src/micq.c, src/file_util.c,
	  src/icq_response.c, src/mreadline.c, src/ui.c:
	  Implement tab list in a new extra module and use it.  Rename
	  get_tab() to R_process_input_tab(); avoid clobbering of input.
	* include/i18n.h, src/i18n.c, src/*.c:
	  Implement simple internationalization functions and use them.
	  Move some initialisation from micq.c and add Show_String_A()
	  to aid using the new functions.
	* src/*.c:
	  Change indenting to 4 chars, no tabs whereever I came across.
	* src/util_ui.c:
	  Add M_fdopen() to wrap the open() call.

2001-04-13 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* include/micq.h, src/msg_queue.c, src/server.c, src/util.c:
	  ICQ# with 9 digits start showing up, so use 10 instead of 8 digits
	  for UIN/nick. Thus, rename Print_UIN_Name_8 to Print_UIN_Name_10.
	* src/file_util.c, src/util.c:
	  _Really_ use PROGDIR: if $HOME is unset on AmigaOS.
	* include/micq.h, src/file_util.c, src/micq.c:
	  New config option "LineBreakType" tied to int "line_break_type".
	* src/util_ui.c, src/icq_response.c, include/config.h:
	  Rewrote line break code from scratch. Doesn't use a buffer, but
	  printf %.*s stuff. Depending on line_break_type, can indent a text
	  embraced by ESC « ... ESC » by: start it on a new line, ignore it,
	  indent it to current column, or line break unless piece fits on
	  current line. Start using it for received msgs.
	* src/util.c: 
	  In MsgEllipsis, strips text after \r or \n (add a ¶ instead) and
	  print at most one line (assuming timestamp & UIN is printed
	  before).
	* include/ui.h, src/ui.c:
	  More time stamp first work.
	* src/file_util.c, src/micq.c, src/server.c, src/util_ui.c:
	  Minor cleanups.

2001-03-24 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* src/server.c: Send login message 2 only once.
	* include/config.h: Add #defines MSGSENTSTR, MSGACKSTR, MSGRECSTR
	  for the strings denoting a sent, acknowledged resp. received
	  message.
	* include/micq.h: New #defines SENTCOL and ACKCOL for the
	  respective colors.
	* src/icq_response.c, src/msq_queue, src/server.c, src/ui.c:
	  Modify to include timestamp at beginning of line.  Rewrite URL
	  message reception code not to use superfluous fixed-size buffers
	  anymore.
	* include/micq.h: Upped version to 0.4.6p2.

2001-03-24 Huub Reuver <theanaloguekid@tak.dhis.org>
	* src/file_util.c: Changed order of included files to cure
	  warnings on FreeBSD.

2001-03-23 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* src/file_util.c, src/micq.c, include/micq.h: Add config option
	  "Del_is_Del" tied to global BOOL del_is_bs, (default TRUE).
	* src/mreadline.c: Put backspace and delete processing into
	  seperate functions R_process_input_backspace() and
	  R_process_input_delete(); now ^h triggers backspace, ESC[3~
	  delete, and the delete character backspace or delete depending on
	  whether del_is_bs is set. Allow different arrow key codes
	  and stop beeping at end of line etc.
	* src/file_util.c, src/micq.c, include/micq.h: Add config option
	  "Last_UIN_Prompt" tied to global BOOL last_uin_prompt (default
	  FALSE).
	* include/ui.h, src/ui.c, src/util_ui.c: Change prompt to contain
	  last used UIN's name, if last_uin_prompt is set.

2001-03-23 Rüdiger Kuhlmann <micq-list-CKH1bDCG6x4V@ruediger-kuhlmann.de>
	* src/mselect.c: Zero fd set on failure of select() (e.g. caused
	  by interruption by SIGWINCH), which could freeze micq till a
	  server input.
	* src/util_ui.c: Use sigwinch handler in Get_Max_Screen_Width() to
	  update screen width if possible.
	* src/util_ui.c: Change color handling: Everything between
	  ESC and m ist either printed directly or ignored (if color is
	  off).
	* include/color.h: Add back BOLD #define.
	* include/micq.h, src/util.c, include/config.h: Add new functions
	  UIN2Name() and Print_UIN_Name_8() to better convert UIN to strings
	  resp. print them, and MsgEllipsis() to "shorten" messages to
	  MSGID_LENGTH characters, using ellipsis if necessary.
	* src/file_util.c, src/util.c: Prefer $HOME to PROGDIR: on AmigaOS.
	  Do not segfault if $HOME is unset.

Feb 11, 2001
mc - changed Language Behaviour (Patch submitted by l@kondara.org) 
mc - ignoring non-alphanumerical chars before command (euro@hq.alert.sk)
mc - ignoring spaces at the end of a nick (euro@hq.alert.sk)

Jan 20, 2001
mc - cleaned up code into subdirs 
mc - added micq.1 from debian.diff
mc - fixed vulnerability in icq_response.c from debian.diff

Jun 9, 2000
Word wraping at the screen boundaries
nickname sym links to log files
fixed russian/japanese encoding on last command
added japanese encoding
wide command
uptime command
config.h file
option to disable shell command ability
added -L command line option to change the logging directory
Added LogDir to the ~/.micqrc 
clear command is no configurable

Mar 19, 2000
Added logtype in ~/.micqrc file to use old style logging
Added the -f file command line option for using alternate config files
Added simpler color macros.
Added some new countries
Added internationalization strings
Beos support should work now.
Fixed msga bug with no newline.
Fixed bug with about messages and russian encoding.
Fixed a bug with invisible sub-statuses not being displayed properly.

Mar 11, 2000
Added some color to the user info display
Fixed the long standing "auto away" segfaulting bug
Added Hermit mode to keep random people from messaging you.
Added more info display capablities
Added the other command to update other user info (age sex homepage)
About command can now make multiline about messages just like message mulitline mode.
Added peliminary SOCKS5 support
Added BEOS support.
Added screen width option for dumb terminals that don't automatically wrap.
Added compile time configurable tab stops (default 8 characters)
Extended the status command so status nick gives info on nick

Sept 12, 1999
Improved tabbed nick names
added more info to the update commad
added ability to update about info.
various cosmetic changes
decode language codes

May 12, 1999
added tabbed nick names
added e & i commands
added togig and toginv commands
removed potential ^L exploit
added line editing commands
added configurable auto away timings
added new logging format
added configurable max contacts limit
added many new translations

Feb 21, 1999
V5 of the ICQ protocol.
Anti-spoofing/hijacking.
Several memory leaks that may or may not be related to V5
More internationalizatio strings.
Brazilian language support started.
dumb bug with user offline being displayed incorrectly.
Added na to the auto away.
Users who change status to their current status (i.e no change) are no longer displayed.
several small bugs.

Jan 27, 1999
Added new innovative (patent pending) CHANGELOG feature.
Password changing!
Added auto away functionality.
Fixed minor bug in russian translation tables.
Fixed (hopefully) bug in russian msga command.
Began lang.h internationalization effort - currently only english.
Revamped the logging function.
Changed output functions to better manage screen space.
fixed that stupid offline at startup bug. :)
Improved help display so it doesn't scroll off the screen.

6-17-1998 by Linux_Dude (rus_conv.c)
 Moved initialization of table out front of 'if' block to prevent compiler
 warning. Improved error message, and now return without performing string
 conversion to prevent addressing memory out of range (table pointer would
 previously have remained uninitialized ( = bad)).
